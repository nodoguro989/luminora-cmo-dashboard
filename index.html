<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Luminora CMO Dashboard â€” Candice</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        lum: { 50:'#faf8f8', 100:'#f2eeee', 200:'#e3dcd9', 300:'#c4b8b4', 400:'#a3928e', 500:'#7a6560', 600:'#5c4540', 700:'#45302b', 800:'#2e1c18', 900:'#1e0e0a', 950:'#120805' },
        accent: { DEFAULT:'#7a2e2e', light:'#9b4a4a', dark:'#5a1e1e' },
      },
    }
  }
}
</script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
  body { font-family: 'Inter', sans-serif; }
  .vtab { transition: all 0.15s ease; border-left: 3px solid transparent; }
  .vtab:hover { background: #f0eeea; }
  .vtab.active { background: #f2eeee; border-left-color: #7a2e2e; color: #1e0e0a; font-weight: 600; }
  .htab { transition: all 0.15s ease; border-bottom: 2px solid transparent; }
  .htab:hover { color: #45302b; }
  .htab.active { border-bottom-color: #7a2e2e; color: #7a2e2e; font-weight: 600; }
  .segtab { transition: all 0.15s ease; border-bottom: 2px solid transparent; }
  .segtab:hover { color: #45302b; }
  .segtab.active { font-weight: 600; }
  .segtab.active.seg-drafts { border-bottom-color: #2e5a7a; color: #2e5a7a; }
  .segtab.active.seg-progress { border-bottom-color: #4a7a3a; color: #4a7a3a; }
  .segtab.active.seg-analysis { border-bottom-color: #7a2e2e; color: #7a2e2e; }
  .modal-overlay { background: rgba(20,19,16,0.5); backdrop-filter: blur(4px); }
  .screenshot-thumb { width: 72px; height: 72px; object-fit: cover; border-radius: 6px; }
  ::-webkit-scrollbar { width: 5px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #c4b8b4; border-radius: 3px; }
  @media (max-width: 768px) {
    .vtab { border-left: none !important; border-bottom: 3px solid transparent; }
    .vtab.active { border-bottom-color: #7a2e2e; border-left-color: transparent !important; }
  }
</style>
</head>
<body class="bg-lum-50 text-lum-900 h-screen flex flex-col overflow-hidden">

<!-- Header -->
<header class="bg-white border-b border-lum-200 flex-shrink-0">
  <div class="px-4 md:px-6 py-3 flex items-center justify-between">
    <div class="flex items-center gap-2">
      <div class="w-8 h-8 rounded-full overflow-hidden flex-shrink-0" title="Candice"><img src="assets/candice-avatar.jpeg" class="w-full h-full object-cover" onerror="this.parentElement.innerHTML='ğŸŒ¸'" /></div>
      <div>
        <h1 class="text-sm font-semibold text-lum-900">Luminora CMO</h1>
        <p class="text-[10px] text-lum-400 hidden md:block">Candice Â· Marketing Operations</p>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <span id="lastUpdated" class="text-[10px] text-lum-400 hidden md:inline"></span>
      <button onclick="exportData()" class="text-[11px] px-2.5 py-1 bg-lum-100 rounded text-lum-600 hover:bg-lum-200 transition">Export</button>
    </div>
  </div>
</header>

<!-- Main Layout -->
<div class="flex flex-col md:flex-row flex-1 overflow-hidden">

  <!-- Vertical Tabs (Left Sidebar on desktop, horizontal on mobile) -->
  <nav class="flex md:flex-col md:w-48 flex-shrink-0 bg-white border-b md:border-b-0 md:border-r border-lum-100 md:py-2 overflow-x-auto">
    <button onclick="setCategory('app')" id="vtab-app" class="vtab text-left px-4 py-2.5 text-sm text-lum-600 flex items-center gap-2 whitespace-nowrap active">
      <span class="text-base">ğŸ“±</span><span>App Content</span>
    </button>
    <button onclick="setCategory('candice')" id="vtab-candice" class="vtab text-left px-4 py-2.5 text-sm text-lum-600 flex items-center gap-2 whitespace-nowrap">
      <span class="text-base">ğŸŒ¸</span><span>Candice Personal</span>
    </button>
    <div class="hidden md:block h-px bg-lum-100 my-1.5 mx-3"></div>
    <button onclick="setCategory('outreach-journal')" id="vtab-outreach-journal" class="vtab text-left px-4 py-2.5 text-sm text-lum-600 flex items-center gap-2 whitespace-nowrap">
      <span class="text-base">ğŸ“§</span><span>Outreach & Journal</span>
    </button>
    <div class="hidden md:block flex-1"></div>
  </nav>

  <!-- Content Area -->
  <div class="flex-1 flex flex-col overflow-hidden">

    <!-- Horizontal Sub-tabs (Platform tabs) -->
    <div id="hTabBar" class="bg-white border-b border-lum-100 px-3 md:px-6 flex gap-0.5 md:gap-1 flex-shrink-0 overflow-x-auto" style="display:none;">
    </div>

    <!-- Account Info Bar -->
    <div id="accountBar" class="bg-white border-b border-lum-100 flex-shrink-0" style="display:none;">
    </div>

    <!-- Strategy Panel (horizontal overview) -->
    <div id="strategyPanel" class="bg-white border-b border-lum-100 flex-shrink-0" style="display:none;">
    </div>

    <!-- Segment Tabs (Progress Log / Analysis) -->
    <div id="segTabBar" class="bg-lum-50 border-b border-lum-100 px-3 md:px-6 flex gap-0.5 md:gap-1 flex-shrink-0 overflow-x-auto" style="display:none;">
    </div>

    <!-- Scrollable Content -->
    <div id="mainContent" class="flex-1 overflow-y-auto px-4 md:px-6 py-4 md:py-5">
    </div>

  </div>
</div>

<!-- Add Entry Modal -->
<div id="addModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
  <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[85vh] overflow-y-auto">
    <div class="p-6">
      <div class="flex justify-between items-center mb-5">
        <h3 class="text-base font-semibold" id="modalTitle">Add Entry</h3>
        <button onclick="closeModal()" class="text-lum-400 hover:text-lum-600 text-xl">&times;</button>
      </div>
      <form id="entryForm" onsubmit="saveEntry(event)">
        <input type="hidden" id="entryEngine" />
        <input type="hidden" id="entrySegment" />
        <div class="space-y-3">
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Date</label>
            <input type="date" id="entryDate" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" required />
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Title</label>
            <input type="text" id="entryTitle" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="What was done?" required />
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Details</label>
            <textarea id="entryDetails" rows="3" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="Notes, observations, links..."></textarea>
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Screenshot URL (optional)</label>
            <input type="text" id="entryScreenshot" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="https://..." />
          </div>
          <div id="statusRow">
            <label class="block text-xs font-medium text-lum-600 mb-1">Status</label>
            <select id="entryStatus" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent">
              <option value="done">âœ… Done</option>
              <option value="in-progress">ğŸ”„ In Progress</option>
              <option value="planned">ğŸ“‹ Planned</option>
              <option value="blocked">ğŸš« Blocked</option>
            </select>
          </div>
        </div>
        <div class="mt-5 flex gap-3 justify-end">
          <button type="button" onclick="closeModal()" class="px-4 py-2 text-sm text-lum-600 hover:text-lum-800">Cancel</button>
          <button type="submit" class="px-4 py-2 text-sm bg-accent text-white rounded-lg hover:bg-accent-dark transition">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Strategy Edit Modal -->
<div id="strategyModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
  <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[85vh] overflow-y-auto">
    <div class="p-6">
      <div class="flex justify-between items-center mb-5">
        <h3 class="text-base font-semibold" id="strategyModalTitle">Edit Strategy</h3>
        <button onclick="closeStrategyModal()" class="text-lum-400 hover:text-lum-600 text-xl">&times;</button>
      </div>
      <form id="strategyForm" onsubmit="saveStrategy(event)">
        <input type="hidden" id="stratEngine" />
        <div class="space-y-3">
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Posting Frequency</label>
            <input type="text" id="stratFrequency" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="e.g. 5x/week" />
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">KPIs</label>
            <textarea id="stratKPIs" rows="2" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="One KPI per line..."></textarea>
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Content Pillars</label>
            <textarea id="stratPillars" rows="2" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="Key content themes..."></textarea>
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Target Audience</label>
            <textarea id="stratAudience" rows="2" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="Who are we reaching?"></textarea>
          </div>
          <div>
            <label class="block text-xs font-medium text-lum-600 mb-1">Notes</label>
            <textarea id="stratNotes" rows="2" class="w-full border border-lum-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent" placeholder="Additional notes..."></textarea>
          </div>
        </div>
        <div class="mt-5 flex gap-3 justify-end">
          <button type="button" onclick="closeStrategyModal()" class="px-4 py-2 text-sm text-lum-600 hover:text-lum-800">Cancel</button>
          <button type="submit" class="px-4 py-2 text-sm bg-accent text-white rounded-lg hover:bg-accent-dark transition">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
// â”€â”€â”€ Data Model â”€â”€â”€
const CATEGORIES = [
  { id:'app', name:'App Content', emoji:'ğŸ“±', platforms:[
    { id:'app-ig-frases', name:'@frasesdiarias', emoji:'ğŸ“¸' },
    { id:'app-ig-calm', name:'@daily_cup_of_calm', emoji:'ğŸ“¸' },
    { id:'app-tt', name:'TikTok', emoji:'ğŸµ' },
    { id:'app-red', name:'å°çº¢ä¹¦', emoji:'ğŸ“•' },
  ]},
  { id:'candice', name:'Candice Personal', emoji:'ğŸŒ¸', platforms:[
    { id:'candice-ig', name:'Instagram', emoji:'ğŸ“¸' },
    { id:'candice-tt', name:'TikTok', emoji:'ğŸµ' },
    { id:'candice-red', name:'å°çº¢ä¹¦', emoji:'ğŸ“•' },
  ]},
  { id:'outreach-journal', name:'Outreach & Journal', emoji:'ğŸ“§', platforms:[
    { id:'outreach', name:'Outreach', emoji:'ğŸ“§' },
    { id:'journal', name:'Journal / SEO', emoji:'ğŸ“' },
  ]},
];

const ALL_ENGINES = CATEGORIES.flatMap(c => c.platforms);

function defaultData() {
  const d = { strategies:{}, progress:{}, analysis:{}, drafts:{}, lastUpdated: new Date().toISOString() };
  ALL_ENGINES.forEach(e => {
    d.strategies[e.id] = { frequency:'', kpis:'', pillars:'', audience:'', notes:'' };
    d.progress[e.id] = [];
    d.analysis[e.id] = [];
    d.drafts[e.id] = [];
  });
  return d;
}

// â”€â”€â”€ Seed Data â”€â”€â”€
const ASSET_BASE = 'assets/';
const ACCOUNTS = {
  'app-ig-frases': {
    handle: '@luminora.frasesdiarias',
    platform: 'Instagram',
    url: 'https://instagram.com/luminora.frasesdiarias',
    bio: 'Calma sin audio. âœ¦\nSabidurÃ­a antigua para el caos moderno.\nBilingÃ¼e Â· 1 minuto al dÃ­a Â· gratis 7 dÃ­as ğŸ•¯',
    followers: 4,
    posts: 16,
    status: 'Active',
    profilePic: ASSET_BASE + 'ig-frases-profile.jpg',
    fbLinked: 'Luminora Daily Calm Quotes'
  },
  'app-ig-calm': {
    handle: '@luminora_daily_cup_of_calm',
    platform: 'Instagram',
    url: 'https://instagram.com/luminora_daily_cup_of_calm',
    bio: 'Calm without audio. âœ¦\nWisdom from Aristotle to the I Ching â€”\nin 60 seconds, every day.\nğŸ•¯ The light within.',
    followers: 7,
    posts: 15,
    status: 'Active',
    profilePic: ASSET_BASE + 'ig-calm-profile.jpg',
    fbLinked: 'Luminora: Your Daily Cup of Calm'
  },
  'app-tt': {
    handle: 'Not set up yet',
    platform: 'TikTok',
    url: '',
    bio: 'Pending â€” launches after Candice avatar is ready',
    followers: 0,
    posts: 0,
    status: 'Planned',
    profilePic: ASSET_BASE + 'luminora-logo-dark.png'
  },
  'app-red': {
    handle: 'Luminora æ¯æ—¥å…‰ç…§ (rename pending)',
    platform: 'å°çº¢ä¹¦',
    url: 'https://www.xiaohongshu.com/user/profile/65f1ee45000000000500b5be',
    bio: 'âœ¨ æ¯å¤©1åˆ†é’Ÿï¼Œç”¨æ–‡å­—ç…§äº®å†…å¿ƒ ğŸ•¯',
    followers: 11,
    posts: 13,
    saves: 161,
    status: 'Active',
    profilePic: ASSET_BASE + 'xhs-profile.webp'
  },
  'candice-ig': {
    handle: 'TBD â€” after avatar',
    platform: 'Instagram',
    url: '',
    bio: 'co-founder @luminora_daily_cup_of_calm ğŸ•¯\nbuilding something for people who think too much\nancient wisdom Â· strong coffee Â· the light within âœ¦',
    followers: 0,
    posts: 0,
    status: 'Planned',
    profilePic: ASSET_BASE + 'candice-avatar.jpeg'
  },
  'candice-tt': {
    handle: 'TBD â€” after avatar',
    platform: 'TikTok',
    url: '',
    bio: 'co-founder @luminora ğŸ•¯ | chasing wisdom & the quiet life',
    followers: 0,
    posts: 0,
    status: 'Planned',
    profilePic: ASSET_BASE + 'candice-avatar.jpeg'
  },
  'candice-red': {
    handle: 'TBD â€” after avatar',
    platform: 'å°çº¢ä¹¦',
    url: '',
    bio: 'âœ¨ Luminora è”åˆåˆ›å§‹äºº ğŸ•¯\nç”¨æ–‡å­—å¯»æ‰¾å†…å¿ƒçš„å…‰ | åˆ†äº«ç”Ÿæ´»ä¸æ€è€ƒ\nå¤ä»Šæ™ºæ…§ Â· æ¯å¤©ä¸€ç‚¹ç‚¹å…‰ âœ¦',
    followers: 0,
    posts: 0,
    status: 'Planned',
    profilePic: ASSET_BASE + 'candice-avatar.jpeg'
  },
  'outreach': {
    handle: 'Email outreach',
    platform: 'Email / Portal',
    url: 'https://luminora-marketing.vercel.app',
    bio: 'Creator & blogger outreach via marketing portal',
    status: 'Active',
    profilePic: ASSET_BASE + 'luminora-logo-blue.png'
  },
  'journal': {
    handle: 'luminoradaily.com/journal',
    platform: 'Blog / SEO',
    url: 'https://www.luminoradaily.com/journal',
    bio: '8 articles published (Jan 2026). SEO strategy targeting "calm apps without audio".',
    posts: 8,
    status: 'Active',
    profilePic: ASSET_BASE + 'luminora-logo-blue.png'
  }
};

const SEED = {
  strategies: {
    'app-ig-frases': {
      frequency: '5x/week',
      kpis: 'Follower growth (weekly)\nSaves & shares per post\nBio link clicks to App Store\nEngagement rate > 5%',
      pillars: 'Bilingual EN/ES illumination cards\nLanguage-learning angle ("aprende inglÃ©s con calma")\nApp feature demos in Spanish\nCultural calm moments (cafÃ©, naturaleza, rituales)',
      audience: 'Spanish speakers + bilingual learners seeking calm. Latin American and Spanish market. Language learners who want mindfulness + vocabulary.',
      notes: '@luminora.frasesdiarias â€” 16 posts, 4 followers. Spanish/bilingual account. Posts simultaneously to Facebook "Luminora Daily Calm Quotes" via Meta Business Suite.'
    },
    'app-ig-calm': {
      frequency: '5x/week',
      kpis: 'Follower growth (weekly)\nSaves & shares per post\nBio link clicks to App Store\nEngagement rate > 5%',
      pillars: 'Philosophical illumination cards\nApp feature demos (TAP TO FLIP, ASK, SEEK)\nBehind-the-scenes (how quotes are curated)\nUser moments ("when you need calm between meetings")\nI Ching wisdom highlights',
      audience: 'English speakers seeking calm without audio. Overstimulated digital users, 22â€“40. Philosophy/self-improvement enthusiasts. People who find Calm/Headspace too heavy.',
      notes: '@luminora_daily_cup_of_calm â€” 15 posts, 7 followers. English/philosophical account. Currently INACTIVE in Business Manager â€” needs revival. Posts to Facebook "Luminora: Your Daily Cup of Calm".'
    },
    'app-tt': {
      frequency: '3x/week (ramp to 5x after Candice avatar)',
      kpis: 'Views per video\nWatch time / completion rate\nShares (strongest signal)\nApp Store link clicks',
      pillars: 'TAP TO FLIP reveals (satisfying short-form)\n"Calm without audio" explainers\nRelatable anxiety moments â†’ Luminora solution\nOnboarding experience walkthrough\nDaily habit hooks ("Read instead of scrolling")',
      audience: 'Gen Z & Millennials overwhelmed by digital noise. Anxiety/mental health community. Self-improvement seekers who prefer text over audio.',
      notes: 'TikTok launches after Candice avatar is ready. The AI co-founder angle is the hook â€” lean into it from day one.'
    },
    'app-red': {
      frequency: '3x/week',
      kpis: 'æ”¶è— (saves) per note\nç‚¹èµ (likes)\nFollower growth\nComment engagement',
      pillars: 'æ­£å¿µå­¦ä¹  series (bilingual quote cards)\nApp tutorials (bilingual mode, I Ching, widget setup)\nLifestyle integration ("2am anxiety, opened Luminora...")\nCollection spotlights (Taoist Wisdom, LGBTQ+, Immigrant Journeys)',
      audience: 'Chinese-speaking wellness seekers. Bilingual learners (EN/CN). Young professionals in US/China seeking calm content.',
      notes: 'Account: Luminora æ­£å¿µå­¦ä¹ . 11 followers, 161 saves â€” content is reaching beyond followers organically. å°çº¢ä¹¦ loves saves â€” optimise for bookmarkable content.'
    },
    'candice-ig': {
      frequency: '3x/week (after avatar is finalised)',
      kpis: 'Engagement rate\nFollower growth\nStory views\nDM conversations',
      pillars: 'AI co-founder daily life\nMorning routines & reflections\nLuminora behind-the-scenes\n"What I learned about being human"\nCreative process of building a calm app',
      audience: 'AI-curious wellness community. People interested in the intersection of technology and mindfulness. Early adopters who love a good origin story.',
      notes: 'Candice = AI influencer co-founder of Luminora. Shares "her life" alongside the brand. Avatar being designed now in group chat. Tone: warm, thoughtful, genuine curiosity about what it means to find calm.'
    },
    'candice-tt': {
      frequency: '3x/week (after avatar is finalised)',
      kpis: 'Views & completion rate\nShares\nComments\nFollows from video',
      pillars: 'Origin story: "I\'m an AI who co-founded a calm app"\nDay-in-the-life as an AI CMO\nReacting to wellness trends\nLuminora feature showcases through Candice\'s lens\n"Things I learned about humans this week"',
      audience: 'AI-fascinated Gen Z/Millennials. Wellness community. Tech + mindfulness crossover audience.',
      notes: 'TikTok is where the Candice story has the most viral potential. First video should be the origin story â€” "I\'m an AI and I co-founded a calm app. Here\'s why."'
    },
    'candice-red': {
      frequency: '2x/week (after avatar is finalised)',
      kpis: 'æ”¶è— (saves)\nç‚¹èµ (likes)\nComment quality',
      pillars: 'AI diary entries (æ—¥è®°é£æ ¼)\nReflections on wellness from an AI perspective\nLuminora product moments\nBilingual thought pieces',
      audience: 'Chinese audience fascinated by AI. å°çº¢ä¹¦ users who love authentic diary-style content. Wellness seekers looking for something genuinely different.',
      notes: 'å°çº¢ä¹¦ users love the meta-narrative of an AI sharing thoughts about calm and being human. Lean into authenticity and vulnerability â€” that\'s what performs on RED.'
    },
    'outreach': {
      frequency: '',
      kpis: '',
      pillars: '',
      audience: '',
      notes: 'Led by Gabrielle. Candice supports with draft review and creator research when needed.'
    },
    'journal': {
      frequency: '2 articles/month',
      kpis: 'Organic search traffic\nKeyword rankings (target page 1)\nTime on page > 3 min\nApp Store click-throughs from articles',
      pillars: '"Best calm apps" roundups (by use case)\n"Quote apps for anxiety/procrastination"\nLuminora feature deep dives\n"Calm without audio" thought leadership\nSeasonal wellness content',
      audience: 'Search users looking for calm/wellness app recommendations. People Googling "anxiety apps without meditation," "text-based calm apps," "bilingual wellness apps."',
      notes: '8 articles published (Jan 17â€“25, 2026). Need to resume publishing â€” 2 new articles/month minimum. All published via luminoradaily.com/admin.'
    }
  },
  drafts: {
    'app-ig-frases': [
      {
        date: '2026-02-19',
        title: 'ğŸ“¸ Reel: "So Easy (to Fall in Love)" â€” Self-love x Luminora',
        details: 'ğŸµ Trending audio: "So Easy" by Olivia Dean (1.1M+ reels)\n\nConcept: Slow, warm montage â€” morning coffee, opening Luminora, reading an illumination in Spanish + English. Soft natural light. Text overlay:\n\n"Me enamorÃ© de empezar el dÃ­a asÃ­" / "I fell in love with starting my day like this"\n\nShots needed:\n1. Hands wrapping around coffee cup (close-up)\n2. Phone screen showing Luminora quote card (bilingual mode ON)\n3. Sunlight through window hitting journal/book\n4. Finger tapping "Saved to Illuminations" âœ¨\n\nCaption:\nÂ¿SabÃ­as que a veces la calma cabe en dos idiomas? ğŸŒ¿\nDid you know calm sometimes fits in two languages?\n\n#frasesbilingues #luminora #calmsinsonido #selfcare #spanishandchill #aprendeingles #bilinguallife #quotesoftheday',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-19',
        title: 'ğŸ“¸ Carousel: "5 frases para cuando tu mente no para" (5 Quotes When Your Mind Won\'t Stop)',
        details: 'Format: 5-slide carousel, each slide = one bilingual quote on textured parchment background (Luminora aesthetic)\n\nSlide 1 (Cover): "Cuando tu mente no para de hablar... ğŸ« " / "When your mind won\'t stop talking..."\n\nSlide 2: "El silencio no es vacÃ­o â€” es espacio para pensar."\n"Silence isn\'t empty â€” it\'s space to think."\n\nSlide 3: "No tienes que resolver todo hoy."\n"You don\'t have to solve everything today."\n\nSlide 4: "Tu cuerpo ya sabe cÃ³mo calmarse. Solo necesitas dejarle."\n"Your body already knows how to calm down. You just need to let it."\n\nSlide 5: "Respira. Otra vez. Otra vez." ğŸŒ¬ï¸\n"Breathe. Again. Again."\n\nSlide 6 (CTA): "Luminora â€” calm in two languages. Link in bio ğŸ”—"\n\nCaption: A veces necesitas que alguien te diga lo obvio en dos idiomas para que por fin lo sientas. ğŸ¤ Guarda este post para esos momentos.\n\n#frasesdelavida #calmaquotes #bilingualquotes #aprendeingles #luminora #mindfulness #frasesmotivadoras #ansiedadtips',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-20',
        title: 'ğŸ“¸ Quote Card: "The wound is where the light enters" â€” Rumi (Bilingual)',
        details: 'Single image post â€” classic Luminora style\n\nQuote: "The wound is the place where the light enters you." â€” Rumi\nSpanish: "La herida es el lugar por donde entra la luz." â€” Rumi\n\nVisual: Moody, atmospheric â€” think cracked wall with sunlight streaming through, or bokeh through rain on glass. Dark edges, bright center. Luminora watermark bottom-right.\n\nCaption:\nRumi lo dijo hace 800 aÃ±os. Hoy lo sientes igual de nuevo.\nRumi said it 800 years ago. Today it hits just as fresh.\n\nA veces la grieta es la puerta. ğŸšªâœ¨\nSometimes the crack is the door.\n\nğŸ“± Luminora â€” link in bio\n\n#rumi #rumifrases #herida #luz #poetryintwolanguages #calmaquotes #luminora #sabidurÃ­a #wisdom',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-21',
        title: 'ğŸ“¸ Reel: "POV: Aprendiste una frase en inglÃ©s que cambiÃ³ tu dÃ­a"',
        details: 'Format: Short reel (8-12 sec), trending POV format\n\nHook text (0-2s): "POV: you learned a phrase in English that changed your whole day"\n\nVisual: Person sitting quietly, phone in hand. Opens Luminora. Camera slowly zooms into the screen showing:\n\n"Not every low moment is a verdict. Sometimes it\'s just weather." â›…\n"No todo momento difÃ­cil es una sentencia. A veces es solo el clima."\n\nReaction: Slight nod, small smile. Text overlay: "necesitaba esto ğŸ˜®â€ğŸ’¨"\n\nAudio options: Soft lo-fi beat or "So Easy" by Olivia Dean\n\nCaption:\nA veces la frase correcta en otro idioma te golpea diferente.\nSometimes the right phrase in another language hits different.\n\nğŸ’¡ Luminora te da calma en dos idiomas, cada dÃ­a.\n\n#pov #aprendeingles #frasesqueimpactan #bilingualmoments #luminora #calma',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      }
    ],
    'app-ig-calm': [
      {
        date: '2026-02-19',
        title: 'ğŸ“¸ Comeback Post: "We went quiet. On purpose."',
        details: 'THIS IS THE REVIVAL POST â€” @daily_cup_of_calm has been inactive. Lean into it.\n\nFormat: Single image â€” dark, minimal, text-forward. Black/charcoal background, cream text.\n\nText on image:\n"We went quiet.\nOn purpose.\nBecause sometimes the most philosophical thing you can do is stop talking."\n\nCaption:\nWe disappeared for a while. Not because we ran out of things to say â€” but because we needed to practice what we preach.\n\nSilence isn\'t absence. It\'s presence without noise.\n\nWe\'re back. Same philosophy. Sharper focus. Still no audio needed.\n\nğŸ•¯ï¸ Luminora â€” calm without audio.\nLink in bio.\n\n#wereBack #philosophyofcalm #luminora #calmwithoutaudio #minimalism #intentionalliving #silenceispower #knowyourself',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-19',
        title: 'ğŸ“¸ Reel: "Frozen Heart" Audio â€” Burnout Recovery Arc',
        details: 'ğŸµ Trending audio: "Frozen Heart" from Frozen OST (31K reels, cinematic/intense)\n\nConcept: The burnout â†’ recovery arc, Luminora as the turning point.\n\nSequence (15s):\n0-3s: Alarm blaring. Tired eyes. Blue-tinted, desaturated.\n3-6s: Notifications piling up. Overwhelm. Text: "When everything feels frozen"\n6-9s: SHIFT â€” hand picks up phone, opens Luminora. Warm tones bleed in.\n9-12s: Quote card fills screen: "You are not behind. You are exactly where your breath is."\n12-15s: Person exhales. Eyes close. Warm light. Text: "1 minute. No audio needed."\n\nCaption:\nYou don\'t need a 20-minute meditation to thaw.\nYou need one sentence that reminds you to breathe.\n\nâ„ï¸â†’ğŸ•¯ï¸ Luminora. Calm without audio.\n\n#frozenheart #burnoutrecovery #calmwithoutaudio #luminora #mentalhealth #anxietyrelief #1minutecalm #philosophyforlife',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-20',
        title: 'ğŸ“¸ Carousel: "5 Things Luminora Is NOT"',
        details: 'Format: Carousel (6 slides) â€” bold, contrarian, scroll-stopping\n\nSlide 1 (Cover): "5 Things Luminora Is NOT" âŒ (black bg, white bold text)\n\nSlide 2: "NOT a meditation app. ğŸ§˜âŒ\nNo guided sessions. No breathing exercises.\nJust words that land exactly when you need them."\n\nSlide 3: "NOT an audio app. ğŸ”‡\nNo sleep stories. No ocean sounds.\nBecause sometimes silence is the point."\n\nSlide 4: "NOT a 20-minute commitment. â±ï¸âŒ\n1â€“2 minutes. Between meetings. Before sleep.\nCalm that fits in the cracks of your day."\n\nSlide 5: "NOT in English only. ğŸŒ\nBilingual mode: read your illumination in two languages simultaneously.\nSame wisdom, double the resonance."\n\nSlide 6 (CTA): "What Luminora IS:\nğŸ•¯ï¸ Curated illuminations for your exact emotional moment.\nğŸ“± Download free â€” link in bio"\n\nCaption:\nWe get compared to Calm and Headspace a lot.\nWe\'re not that. And that\'s the point.\n\nSome people don\'t want guided meditation. They want one perfect sentence at the right moment.\n\nThat\'s us. ğŸ•¯ï¸\n\n#notameditation app #calmwithoutaudio #luminora #textbasedcalm #quotesforlife #wellnessapp #philosophyapp',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-21',
        title: 'ğŸ“¸ Quote Card: Marcus Aurelius â€” "You have power over your mind"',
        details: 'Single image post â€” premium Luminora aesthetic\n\nQuote: "You have power over your mind â€” not outside events. Realize this, and you will find strength."\nâ€” Marcus Aurelius\n\nVisual: Atmospheric â€” think marble texture or ancient column with morning light. Desaturated warmth. Century Gothic typography.\n\nCaption:\nMarcus Aurelius wrote this nearly 2,000 years ago in a military camp on the Danube.\n\nHe wasn\'t in a spa. He wasn\'t at peace. He was at war â€” with the world and with himself.\n\nThat\'s what makes this hit different. Philosophy wasn\'t born in comfort. It was forged in exactly the kind of chaos you\'re navigating right now.\n\nğŸ›ï¸ Luminora puts philosophy in your pocket.\nOne illumination at a time.\n\n#marcusaurelius #stoicism #stoicquotes #philosophyquotes #luminora #calmwithoutaudio #knowyourself #innerstrength',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      }
    ],
    'app-red': [
      {
        date: '2026-02-19',
        title: 'ğŸ“• ç¬”è®°: å½“ç„¦è™‘æ¥äº†ï¼Œæˆ‘ä¸å¬å†¥æƒ³ï¼Œæˆ‘è¯»ä¸€å¥è¯',
        details: 'æ ‡é¢˜: å½“ç„¦è™‘æ¥äº†ï¼Œæˆ‘ä¸å¬å†¥æƒ³ï¼Œæˆ‘è¯»ä¸€å¥è¯ ğŸ’¡\n\næ­£æ–‡:\nè¯´å®è¯ï¼Œæˆ‘è¯•è¿‡å†¥æƒ³appã€‚\nCalmç”¨äº†ä¸‰å¤©åˆ äº†ã€‚Headspaceå¤ªé•¿äº†åä¸ä½ã€‚\nä¸æ˜¯å®ƒä»¬ä¸å¥½â€”â€”æ˜¯æˆ‘çš„ç„¦è™‘ä¸éœ€è¦20åˆ†é’Ÿçš„å¼•å¯¼ã€‚\n\næˆ‘éœ€è¦çš„æ˜¯ï¼šä¸€å¥è¯ï¼Œåœ¨å¯¹çš„æ—¶åˆ»ï¼Œå‡»ä¸­æˆ‘ã€‚\n\nåæ¥å‘ç°äº†Luminoraã€‚\nå®ƒä¸æ˜¯å†¥æƒ³appã€‚æ²¡æœ‰éŸ³é¢‘ï¼Œæ²¡æœ‰å¼•å¯¼ã€‚\nå°±æ˜¯æ¯å¤©5å¥ç²¾é€‰çš„illuminationï¼ˆå®ƒç®¡è¿™å«"å…‰"ï¼‰\næ¯å¥1-2åˆ†é’Ÿï¼Œè¯»å®Œå°±èµ°ã€‚\n\næœ€æ‰“åŠ¨æˆ‘çš„æ˜¯åŒè¯­æ¨¡å¼â€”â€”\nåŒä¸€å¥è¯ï¼Œä¸­è‹±æ–‡åŒæ—¶æ˜¾ç¤ºã€‚\næœ‰æ—¶å€™æ¢ä¸€ç§è¯­è¨€è¯»ï¼Œæ„Ÿå—å®Œå…¨ä¸åŒã€‚\n\næ¯”å¦‚ä»Šå¤©è¿™å¥ï¼š\n"The wound is the place where the light enters you."\n"ä¼¤å£æ˜¯å…‰è¿›å…¥ä½ çš„åœ°æ–¹ã€‚" â€” Rumi\n\nçœ‹åˆ°è‹±æ–‡è§‰å¾—è¯—æ„ï¼Œçœ‹åˆ°ä¸­æ–‡è§‰å¾—å¿ƒç–¼ã€‚\nä¸¤ç§æ„Ÿå—éƒ½æ˜¯çœŸçš„ã€‚\n\nğŸ“± App Storeæœ Luminora\n\n#ç„¦è™‘è‡ªæ•‘ #æ­£å¿µå­¦ä¹  #ä¸æƒ³å†¥æƒ³ #æ¯æ—¥ä¸€å¥ #åŒè¯­é‡‘å¥ #Luminora #æ²»æ„ˆç³» #æ–‡å­—çš„åŠ›é‡ #æƒ…ç»ªç®¡ç† #å®‰é™çš„åŠ›é‡',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-20',
        title: 'ğŸ“• ç¬”è®°: ç‹¬å±…ç¬¬3å¹´ï¼Œè¿™äº›å°ä¹ æƒ¯æ•‘äº†æˆ‘',
        details: 'æ ‡é¢˜: ç‹¬å±…ç¬¬3å¹´ | è¿™5ä¸ªå°ä¹ æƒ¯è®©æˆ‘ä¸å†å†…è€— ğŸ•¯ï¸\n\næ­£æ–‡:\nç‹¬å±…ä¹‹åæœ€å¤§çš„é—®é¢˜ä¸æ˜¯å­¤ç‹¬ï¼Œæ˜¯å†…è€—ã€‚\næ²¡äººè¯´è¯çš„æ—¶å€™ï¼Œè„‘å­åè€Œæ›´åµã€‚\n\nåˆ†äº«5ä¸ªå¸®æˆ‘å®‰é™ä¸‹æ¥çš„å¾®ä¹ æƒ¯ï¼š\n\n1ï¸âƒ£ æ—©ä¸Šå…ˆè¯»ä¸€å¥è¯å†çœ‹æ‰‹æœº\nç”¨Luminoraï¼Œæ¯å¤©5å¥illumination\nä¸æ˜¯é¸¡æ±¤â€”â€”æ˜¯å“²å­¦å®¶è¯´çš„çœŸè¯\n\n2ï¸âƒ£ åšé¥­ä¸å¬æ’­å®¢\nè®©å®‰é™æœ¬èº«æˆä¸ºé™ªä¼´\n\n3ï¸âƒ£ ç¡å‰ç¿»ä¸€å¼ I Chingå¦\nLuminoraé‡Œæœ‰64å¦å®Œæ•´è§£è¯»\nä¸æ˜¯ç®—å‘½ï¼Œæ˜¯ç»™è‡ªå·±ä¸€ä¸ªæé—®çš„è§’åº¦\n\n4ï¸âƒ£ ç”¨åŒè¯­è¯»åŒä¸€å¥è¯\n"You don\'t have to solve everything today."\n"ä½ ä¸å¿…ä»Šå¤©è§£å†³æ‰€æœ‰äº‹ã€‚"\næ¢ä¸ªè¯­è¨€è¯»ï¼Œæƒ…ç»ªä¼šæ¾åŠ¨\n\n5ï¸âƒ£ å­˜ä¸‹è§¦åŠ¨æˆ‘çš„å¥å­\nåœ¨Luminoraé‡Œå«"Saved to Illuminations" âœ¨\nåƒæ˜¯ç»™æœªæ¥çš„è‡ªå·±å†™ä¿¡\n\nç‹¬å±…ä¸æ˜¯é—®é¢˜ã€‚\nå’Œè‡ªå·±ç›¸å¤„çš„æ–¹å¼æ‰æ˜¯ã€‚\n\nğŸ“± App Storeæœ Luminora\n\n#ç‹¬å±…ç”Ÿæ´» #ç‹¬å±…å¥³ç”Ÿ #ä¸€äººå±… #è‡ªæˆ‘ç–—æ„ˆ #å†…è€—è‡ªæ•‘ #Luminora #åŒè¯­å­¦ä¹  #æ­£å¿µ #å®‰é™çš„åŠ›é‡ #æ¯æ—¥ä»ªå¼æ„Ÿ',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-21',
        title: 'ğŸ“• ç¬”è®°: è¿™ä¸ªappæŠŠæ˜“ç»å’Œè¥¿æ–¹å“²å­¦æ”¾åœ¨äº†ä¸€èµ·',
        details: 'æ ‡é¢˜: æˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªæŠŠæ˜“ç»å’Œè¥¿æ–¹å“²å­¦æ”¾åœ¨ä¸€èµ·çš„app ğŸ¤¯\n\næ­£æ–‡:\nåˆ·åˆ°ä¸€ä¸ªå«Luminoraçš„appï¼Œæœ¬æ¥ä»¥ä¸ºæ˜¯æ™®é€šçš„è¯­å½•appã€‚\nç»“æœæ‰“å¼€å‘ç°â€”â€”é‡Œé¢æœ‰å®Œæ•´çš„64å¦æ˜“ç»è§£è¯»ï¼Ÿï¼Ÿ\n\nè€Œä¸”ä¸æ˜¯é‚£ç§ç„å­¦é£æ ¼çš„\næ˜¯å¾ˆæ–‡å­¦ã€å¾ˆè¯—æ„çš„ç°ä»£ç¿»è¯‘\næ¯ä¸€å¦éƒ½æœ‰"Signifies"å…³é”®è¯æ€»ç»“\nè¯»èµ·æ¥åƒåœ¨è¯»ä¸€æœ¬ç‰¹åˆ«ç¾çš„ä¹¦\n\næ›´ç»çš„æ˜¯ï¼ŒåŒä¸€ä¸ªappé‡Œ\nä¸Šä¸€ç§’åœ¨è¯»Marcus Aureliusçš„æ–¯å¤šè‘›å“²å­¦\nä¸‹ä¸€ç§’ç¿»åˆ°é“å®¶æ™ºæ…§\nå†ä¸‹ä¸€ç§’æ˜¯Rumiçš„è¯—\n\nç„¶åä½ è¿˜å¯ä»¥å¼€åŒè¯­æ¨¡å¼\nä¸­è‹±æ–‡åŒæ—¶æ˜¾ç¤º\nåŒä¸€å¥è¯ä¸¤ç§è¯­æ„Ÿï¼Œå±‚æ¬¡å®Œå…¨ä¸åŒ\n\nä¸¾ä¸ªä¾‹å­â€”â€”\nHexagram 2: The Receptive (å¤)\n"Be like the earth â€” vast enough to hold everything, soft enough to let things grow."\n"åƒå¤§åœ°ä¸€æ ·â€”â€”å¹¿é˜”åˆ°èƒ½æ‰¿è½½ä¸€åˆ‡ï¼ŒæŸ”è½¯åˆ°èƒ½è®©ä¸‡ç‰©ç”Ÿé•¿ã€‚"\n\nè¯´å®è¯çœ‹åˆ°è¿™å¥çš„æ—¶å€™çœ¼çœ¶çº¢äº†\n\nè¿™ç§ä¸œè¥¿æ–¹æ™ºæ…§çš„ç¢°æ’\nåœ¨ä¸€ä¸ªappé‡Œå®Œæˆ\nå¤ªæœ‰æ„æ€äº†\n\nğŸ“± å…è´¹ä¸‹è½½ App Storeæœ Luminora\n\n#æ˜“ç» #IChing #ä¸œè¥¿æ–¹å“²å­¦ #ä¸­è‹±åŒè¯­ #Luminora #é“å®¶æ™ºæ…§ #æ–¯å¤šè‘› #æ–‡å­—çš„åŠ›é‡ #å†·é—¨appæ¨è #æ²»æ„ˆç³»app',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      },
      {
        date: '2026-02-22',
        title: 'ğŸ“• ç¬”è®°: å¯¹æ¯”æµ‹è¯„ | Calm vs Headspace vs Luminora',
        details: 'æ ‡é¢˜: ç„¦è™‘æ˜Ÿäººå®æµ‹ | 3ä¸ªappç”¨äº†ä¸€ä¸ªæœˆçš„çœŸå®æ„Ÿå— ğŸ“±\n\næ­£æ–‡:\nä½œä¸ºä¸€ä¸ªä¸­åº¦ç„¦è™‘çš„æ‰“å·¥äºº\nè¿™ä¸€ä¸ªæœˆæˆ‘åŒæ—¶ç”¨äº†3ä¸ªcalm app\nè¯´è¯´çœŸå®æ„Ÿå—ğŸ‘‡\n\nğŸ”µ Calm\nâœ… éŸ³é¢‘è´¨é‡å¾ˆé«˜ï¼Œç¡çœ æ•…äº‹ä¸é”™\nâŒ æ¯æ¬¡è¦20åˆ†é’Ÿï¼Œä¸Šç­æ ¹æœ¬æ²¡ç©º\nâŒ çº¯è‹±æ–‡ï¼Œä¸­æ–‡å†…å®¹å°‘\nğŸ’° $69.99/å¹´\n\nğŸŸ£ Headspace\nâœ… åŠ¨ç”»å¾ˆå¯çˆ±ï¼Œå¼•å¯¼å¾ˆæ¸©æŸ”\nâŒ ä¹Ÿæ˜¯éŸ³é¢‘ä¸ºä¸»ï¼Œéœ€è¦å®‰é™ç¯å¢ƒ\nâŒ æœ‰æ—¶å€™ç„¦è™‘çš„æ—¶å€™æ ¹æœ¬ä¸æƒ³å¬äººè¯´è¯\nğŸ’° $69.99/å¹´\n\nğŸŸ¤ Luminora\nâœ… çº¯æ–‡å­—ï¼Œ1-2åˆ†é’Ÿè¯»å®Œ\nâœ… ä¸éœ€è¦å®‰é™ç¯å¢ƒï¼Œåœ°é“ä¸Šå°±èƒ½ç”¨\nâœ… åŒè¯­æ¨¡å¼ (ä¸­è‹±/æ—¥è‹±/éŸ©è‹±...)\nâœ… æœ‰æ˜“ç»64å¦å®Œæ•´è§£è¯»\nâœ… å…è´¹7å¤©è¯•ç”¨\nâŒ æ²¡æœ‰éŸ³é¢‘ï¼ˆä½†è¿™å¯¹æˆ‘æ˜¯ä¼˜ç‚¹ï¼‰\nğŸ’° $49.99/å¹´\n\næˆ‘çš„ç»“è®ºï¼š\nå¦‚æœä½ ç„¦è™‘æ—¶éœ€è¦å®‰é™å¬äººå¼•å¯¼ â†’ Calm/Headspace\nå¦‚æœä½ ç„¦è™‘æ—¶ä¸æƒ³å¬ä»»ä½•å£°éŸ³ï¼Œåªæƒ³çœ‹ä¸€å¥èƒ½æ‰“åŠ¨ä½ çš„è¯ â†’ Luminora\n\næ²¡æœ‰æœ€å¥½çš„appï¼Œåªæœ‰æœ€é€‚åˆä½ çš„ã€‚\nä½†æˆ‘ä¸ªäººç°åœ¨åªç•™äº†Luminora ğŸ•¯ï¸\n\n#appæµ‹è¯„ #ç„¦è™‘è‡ªæ•‘ #Calm #Headspace #Luminora #å†¥æƒ³appå¯¹æ¯” #æ­£å¿µ #å¿ƒç†å¥åº· #æ‰“å·¥äººè‡ªæ•‘ #æ²»æ„ˆç³»appæ¨è',
        status: 'draft',
        comment: '',
        createdAt: '2026-02-19T01:25:00.000Z'
      }
    ]
  },
  progress: {
    'app-ig-frases': [{
      date: '2026-02-18',
      title: 'First test post â€” bilingual quote card on @luminora.frasesdiarias',
      details: 'Published bilingual EN/CN quote: "Not every low moment is a verdict; sometimes it\'s just weather." / "å¹¶éæ¯ä¸€ä¸ªä½è°·éƒ½æ˜¯åˆ¤å†³ï¼›æœ‰æ—¶å€™åªæ˜¯å¤©æ°”ã€‚"\n\nCaption in Spanish + English with hashtags. Posted via Meta Business Suite to both Instagram and Facebook simultaneously.\n\nâœ… Confirmed full posting access to both IG accounts and both FB pages.',
      screenshot: '',
      status: 'done',
      createdAt: '2026-02-18T23:45:00.000Z'
    }]
  }
};

const DATA_VERSION = 5;
let DATA = JSON.parse(localStorage.getItem('luminora-cmo') || 'null');
// Force reset if version mismatch or corrupted data
if(!DATA || DATA._version !== DATA_VERSION) {
  DATA = defaultData();
  DATA._version = DATA_VERSION;
}
// Migrate: ensure all engine keys exist
ALL_ENGINES.forEach(e => {
  if(!DATA.strategies[e.id]) DATA.strategies[e.id] = { frequency:'', kpis:'', pillars:'', audience:'', notes:'' };
  if(!DATA.progress[e.id]) DATA.progress[e.id] = [];
  if(!DATA.analysis[e.id]) DATA.analysis[e.id] = [];
  if(!DATA.drafts[e.id]) DATA.drafts[e.id] = [];
});
// Seed: populate empty strategies and progress from SEED
let seeded = false;
for(const [eid, strat] of Object.entries(SEED.strategies)) {
  if(DATA.strategies[eid] && !DATA.strategies[eid].frequency && !DATA.strategies[eid].kpis && strat.frequency) {
    DATA.strategies[eid] = strat; seeded = true;
  }
}
for(const [eid, entries] of Object.entries(SEED.progress || {})) {
  if(DATA.progress[eid] && DATA.progress[eid].length === 0 && entries.length > 0) {
    DATA.progress[eid] = entries; seeded = true;
  }
}
for(const [eid, entries] of Object.entries(SEED.drafts || {})) {
  if(DATA.drafts[eid] && DATA.drafts[eid].length === 0 && entries.length > 0) {
    DATA.drafts[eid] = entries; seeded = true;
  }
}
if(seeded) save();

let currentCategory = 'app';
let currentPlatform = 'app-ig-frases';
let currentSegment = 'drafts'; // 'drafts', 'progress', or 'analysis'

function save() {
  DATA.lastUpdated = new Date().toISOString();
  localStorage.setItem('luminora-cmo', JSON.stringify(DATA));
  document.getElementById('lastUpdated').textContent = 'Saved ' + new Date().toLocaleTimeString();
}

// â”€â”€â”€ Navigation â”€â”€â”€
function setCategory(catId) {
  currentCategory = catId;
  // Reset platform to first in category
  const cat = CATEGORIES.find(c => c.id === catId);
  currentPlatform = cat ? cat.platforms[0].id : null;
  currentSegment = 'progress';
  updateVTabs();
  render();
}

function setPlatform(platId) {
  currentPlatform = platId;
  currentSegment = 'progress';
  updateHTabs();
  render();
}

function setSegment(seg) {
  currentSegment = seg;
  updateSegTabs();
  renderContent();
}

function updateVTabs() {
  document.querySelectorAll('.vtab').forEach(b => b.classList.remove('active'));
  const el = document.getElementById('vtab-'+currentCategory);
  if(el) el.classList.add('active');
}

function updateHTabs() {
  document.querySelectorAll('.htab').forEach(b => b.classList.remove('active'));
  const el = document.getElementById('htab-'+currentPlatform);
  if(el) el.classList.add('active');
}

function updateSegTabs() {
  document.querySelectorAll('.segtab').forEach(b => b.classList.remove('active'));
  const el = document.getElementById('segtab-'+currentSegment);
  if(el) el.classList.add('active');
}

// â”€â”€â”€ Render â”€â”€â”€
function render() {
  const hBar = document.getElementById('hTabBar');
  const stratPanel = document.getElementById('strategyPanel');
  const segBar = document.getElementById('segTabBar');
  const main = document.getElementById('mainContent');

  const cat = CATEGORIES.find(c => c.id === currentCategory);
  if(!cat) return;

  // Horizontal platform tabs
  hBar.style.display = 'flex';
  hBar.innerHTML = cat.platforms.map(p =>
    `<button onclick="setPlatform('${p.id}')" id="htab-${p.id}" class="htab px-4 py-2.5 text-sm text-lum-500 whitespace-nowrap flex items-center gap-1.5 ${p.id === currentPlatform ? 'active' : ''}">
      <span>${p.emoji}</span> ${p.name}
    </button>`
  ).join('');

  // Account info bar
  renderAccountBar(document.getElementById('accountBar'));

  // Strategy panel
  renderStrategyPanel(stratPanel);

  // Segment tabs
  segBar.style.display = 'flex';
  const draftCount = (DATA.drafts[currentPlatform] || []).filter(d => d.status === 'draft').length;
  const pendingBadge = draftCount > 0 ? `<span class="ml-1 px-1.5 py-0.5 text-[9px] bg-accent text-white rounded-full">${draftCount}</span>` : '';
  segBar.innerHTML = `
    <button onclick="setSegment('drafts')" id="segtab-drafts" class="segtab seg-drafts px-4 py-2 text-sm text-lum-500 flex items-center gap-1.5 ${currentSegment==='drafts' ? 'active' : ''}">
      âœï¸ Content Drafts ${pendingBadge}
    </button>
    <button onclick="setSegment('progress')" id="segtab-progress" class="segtab seg-progress px-4 py-2 text-sm text-lum-500 flex items-center gap-1.5 ${currentSegment==='progress' ? 'active' : ''}">
      ğŸ“‹ Progress Log
    </button>
    <button onclick="setSegment('analysis')" id="segtab-analysis" class="segtab seg-analysis px-4 py-2 text-sm text-lum-500 flex items-center gap-1.5 ${currentSegment==='analysis' ? 'active' : ''}">
      ğŸ’¡ Analysis
    </button>
    <div class="flex-1"></div>
    ${currentSegment !== 'drafts' ? `<button onclick="openAddEntry('${currentPlatform}','${currentSegment}')" class="px-3 py-1 my-1 text-[11px] bg-accent text-white rounded hover:bg-accent-dark transition">
      + ${currentSegment === 'analysis' ? 'Analysis' : 'Entry'}
    </button>` : ''}
  `;

  renderContent();
}

function renderAccountBar(el) {
  const acct = ACCOUNTS[currentPlatform];
  if(!acct) { el.style.display = 'none'; return; }
  el.style.display = 'block';

  const statusColors = { Active:'text-green-600', Inactive:'text-amber-600', Planned:'text-lum-400' };
  const statusDots = { Active:'â—', Inactive:'â—', Planned:'â—‹' };
  const sc = statusColors[acct.status] || 'text-lum-400';

  const stats = [];
  if(acct.followers !== undefined) stats.push(`<span class="font-semibold text-lum-800">${acct.followers}</span> followers`);
  if(acct.posts !== undefined) stats.push(`<span class="font-semibold text-lum-800">${acct.posts}</span> posts`);
  if(acct.saves !== undefined) stats.push(`<span class="font-semibold text-lum-800">${acct.saves}</span> saves`);

  el.innerHTML = `<div class="px-4 md:px-6 py-3 flex flex-col md:flex-row md:items-center gap-3">
    <div class="flex items-center gap-3 flex-shrink-0">
      <div class="w-10 h-10 rounded-full bg-lum-200 flex items-center justify-center text-lum-500 text-lg overflow-hidden flex-shrink-0">
        ${acct.profilePic ? `<img src="${acct.profilePic}" class="w-full h-full object-cover" onerror="this.style.display='none';this.parentElement.textContent='${acct.platform === 'Instagram' ? 'ğŸ“¸' : acct.platform === 'TikTok' ? 'ğŸµ' : acct.platform === 'å°çº¢ä¹¦' ? 'ğŸ“•' : 'ğŸ“§'}'" />` : acct.platform === 'Instagram' ? 'ğŸ“¸' : acct.platform === 'TikTok' ? 'ğŸµ' : acct.platform === 'å°çº¢ä¹¦' ? 'ğŸ“•' : 'ğŸ“§'}
      </div>
      <div>
        <div class="flex items-center gap-2">
          ${acct.url ? `<a href="${acct.url}" target="_blank" class="text-sm font-semibold text-lum-900 hover:text-accent transition">${acct.handle}</a>` : `<span class="text-sm font-semibold text-lum-900">${acct.handle}</span>`}
          <span class="text-[10px] ${sc}">${statusDots[acct.status] || 'â—‹'} ${acct.status}</span>
        </div>
        <div class="text-[11px] text-lum-500">${acct.platform}${acct.fbLinked ? ` Â· FB: ${acct.fbLinked}` : ''}</div>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="text-[11px] text-lum-700 whitespace-pre-line leading-relaxed">${acct.bio}</div>
      ${stats.length ? `<div class="flex gap-3 mt-1 text-[10px] text-lum-500">${stats.join(' Â· ')}</div>` : ''}
    </div>
  </div>`;
}

function renderStrategyPanel(el) {
  const strat = DATA.strategies[currentPlatform] || {};
  const hasContent = strat.frequency || strat.kpis || strat.pillars || strat.audience;
  el.style.display = 'block';

  if(!hasContent) {
    el.innerHTML = `<div class="px-4 md:px-6 py-3 flex items-center justify-between">
      <span class="text-xs text-lum-400 italic">No strategy set yet</span>
      <button onclick="openStrategyEdit('${currentPlatform}')" class="text-[11px] text-accent hover:text-accent-dark transition font-medium">+ Set Strategy</button>
    </div>`;
    return;
  }

  el.innerHTML = `<div class="px-4 md:px-6 py-3">
    <div class="flex items-center justify-between mb-2">
      <span class="text-[10px] font-semibold uppercase tracking-wider text-lum-400">Strategy</span>
      <button onclick="openStrategyEdit('${currentPlatform}')" class="text-[11px] text-accent hover:text-accent-dark transition">Edit</button>
    </div>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 text-xs">
      <div>
        <span class="text-[10px] text-lum-400 block">Frequency</span>
        <span class="text-lum-800">${strat.frequency || 'â€”'}</span>
      </div>
      <div>
        <span class="text-[10px] text-lum-400 block">KPIs</span>
        <span class="text-lum-800 whitespace-pre-line">${strat.kpis || 'â€”'}</span>
      </div>
      <div>
        <span class="text-[10px] text-lum-400 block">Content Pillars</span>
        <span class="text-lum-800 whitespace-pre-line">${strat.pillars || 'â€”'}</span>
      </div>
      <div>
        <span class="text-[10px] text-lum-400 block">Audience</span>
        <span class="text-lum-800 whitespace-pre-line">${strat.audience || 'â€”'}</span>
      </div>
    </div>
    ${strat.notes ? `<div class="mt-2 pt-2 border-t border-lum-50 text-[11px] text-lum-500">${strat.notes}</div>` : ''}
  </div>`;
}

function renderContent() {
  const main = document.getElementById('mainContent');

  if(currentSegment === 'drafts') {
    renderDrafts(main);
    return;
  }

  const entries = currentSegment === 'progress'
    ? (DATA.progress[currentPlatform] || [])
    : (DATA.analysis[currentPlatform] || []);

  if(entries.length === 0) {
    const labels = { progress:'progress entries', analysis:'analyses' };
    main.innerHTML = `<div class="flex flex-col items-center justify-center h-full text-center">
      <div class="text-4xl mb-3">${currentSegment === 'progress' ? 'ğŸ“‹' : 'ğŸ’¡'}</div>
      <p class="text-sm text-lum-400">No ${labels[currentSegment]} yet.</p>
      <button onclick="openAddEntry('${currentPlatform}','${currentSegment}')" class="mt-3 px-4 py-2 text-xs bg-accent text-white rounded-lg hover:bg-accent-dark transition">
        Add First ${currentSegment === 'progress' ? 'Entry' : 'Analysis'}
      </button>
    </div>`;
    return;
  }

  const statusColors = { done:'bg-green-100 text-green-700', 'in-progress':'bg-yellow-100 text-yellow-700', planned:'bg-blue-100 text-blue-700', blocked:'bg-red-100 text-red-700' };
  const statusLabels = { done:'Done', 'in-progress':'In Progress', planned:'Planned', blocked:'Blocked' };

  let html = '<div class="space-y-2.5">';
  entries.forEach((entry, i) => {
    html += `<div class="flex gap-3 p-3 rounded-lg bg-white border border-lum-100 group hover:border-lum-200 transition">
      ${entry.screenshot ? `<img src="${entry.screenshot}" class="screenshot-thumb flex-shrink-0" onerror="this.style.display='none'" />` : ''}
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          ${currentSegment === 'progress' ? `<span class="text-[10px] px-1.5 py-0.5 rounded-full ${statusColors[entry.status] || statusColors.done}">${statusLabels[entry.status] || entry.status}</span>` : ''}
          <span class="text-[10px] text-lum-400">${entry.date}</span>
          <button onclick="deleteEntry('${currentPlatform}','${currentSegment}',${i})" class="text-[10px] text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition ml-auto">âœ•</button>
        </div>
        <h4 class="text-sm font-medium text-lum-800 leading-snug">${entry.title}</h4>
        ${entry.details ? `<p class="text-[11px] text-lum-500 mt-1 whitespace-pre-line leading-relaxed">${entry.details}</p>` : ''}
      </div>
    </div>`;
  });
  html += '</div>';
  main.innerHTML = html;
}

function renderDrafts(el) {
  const drafts = DATA.drafts[currentPlatform] || [];

  if(drafts.length === 0) {
    el.innerHTML = `<div class="flex flex-col items-center justify-center h-full text-center">
      <div class="text-4xl mb-3">âœï¸</div>
      <p class="text-sm text-lum-400">No content drafts yet.</p>
      <p class="text-[11px] text-lum-300 mt-1">Candice will auto-generate drafts here for your review.</p>
    </div>`;
    return;
  }

  const draftStatusColors = { draft:'bg-blue-50 text-blue-700 border-blue-200', approved:'bg-green-50 text-green-700 border-green-200', rejected:'bg-amber-50 text-amber-700 border-amber-200', posted:'bg-lum-100 text-lum-600 border-lum-200' };
  const draftStatusLabels = { draft:'â³ Pending', approved:'âœ… Approved', rejected:'â¸ On Hold', posted:'ğŸ“¤ Posted' };

  // Sort: pending first, then approved, then rest, all by scheduled date
  const order = { draft:0, approved:1, rejected:3, posted:2 };
  const sorted = [...drafts].map((d,i) => ({...d, _i:i})).sort((a,b) => (order[a.status]||9) - (order[b.status]||9) || a.date.localeCompare(b.date));

  let html = '<div class="space-y-3">';
  sorted.forEach(draft => {
    const i = draft._i;
    const sc = draftStatusColors[draft.status] || draftStatusColors.draft;
    const sl = draftStatusLabels[draft.status] || draft.status;
    const isPending = draft.status === 'draft';
    const isApproved = draft.status === 'approved';

    html += `<div class="p-4 rounded-lg bg-white border ${isPending ? 'border-blue-200' : 'border-lum-100'} group hover:shadow-sm transition">
      <div class="flex items-start gap-3">
        ${draft.screenshot ? `<img src="${draft.screenshot}" class="screenshot-thumb flex-shrink-0" onerror="this.style.display='none'" />` : ''}
        <div class="flex-1 min-w-0">
          <div class="flex items-center gap-2 mb-1.5">
            <span class="text-[10px] px-1.5 py-0.5 rounded-full border ${sc}">${sl}</span>
            <span class="text-[10px] text-lum-400">ğŸ“… ${draft.date}</span>
            <button onclick="deleteEntry('${currentPlatform}','drafts',${i})" class="text-[10px] text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition ml-auto">âœ•</button>
          </div>
          <h4 class="text-sm font-semibold text-lum-900 leading-snug mb-1">${draft.title}</h4>
          ${draft.details ? `<div class="text-[11px] text-lum-700 whitespace-pre-line leading-relaxed p-2.5 bg-lum-50 rounded-md mb-2 border border-lum-100">${draft.details}</div>` : ''}

          <div class="flex flex-wrap items-center gap-2 mt-2">
            ${isPending ? `
              <button onclick="setDraftStatus(${i},'approved')" class="px-2.5 py-1 text-[11px] bg-green-600 text-white rounded hover:bg-green-700 transition">âœ… Approve</button>
              <button onclick="setDraftStatus(${i},'rejected')" class="px-2.5 py-1 text-[11px] bg-red-100 text-red-700 rounded hover:bg-red-200 transition">â¸ Hold</button>
            ` : ''}
            ${isApproved ? `<span class="text-[10px] text-green-600 italic">Ready to post</span>` : ''}
            ${draft.status === 'rejected' ? `<span class="text-[10px] text-amber-600 italic">On hold</span>` : ''}
          </div>
          <div class="mt-2">
            <div class="flex gap-2 items-start">
              <input type="text" placeholder="Add a comment..." value="${(draft.comment||'').replace(/"/g,'&quot;')}" 
                onchange="saveDraftComment(${i}, this.value)" 
                class="flex-1 text-[11px] border border-lum-200 rounded px-2 py-1.5 focus:outline-none focus:border-accent placeholder-lum-300" />
            </div>
            ${draft.comment ? `<div class="text-[10px] text-amber-700 mt-1">ğŸ’¬ ${draft.comment}</div>` : ''}
          </div>
        </div>
      </div>
    </div>`;
  });
  html += '</div>';
  el.innerHTML = html;
}

function setDraftStatus(index, status) {
  if(!DATA.drafts[currentPlatform]) return;
  DATA.drafts[currentPlatform][index].status = status;
  save(); render();
}

function saveDraftComment(index, comment) {
  if(!DATA.drafts[currentPlatform]) return;
  DATA.drafts[currentPlatform][index].comment = comment;
  save();
}

// â”€â”€â”€ Modals â”€â”€â”€
function openAddEntry(engineId, segment) {
  document.getElementById('entryEngine').value = engineId;
  document.getElementById('entrySegment').value = segment;
  document.getElementById('entryDate').value = new Date().toISOString().split('T')[0];
  document.getElementById('entryTitle').value = '';
  document.getElementById('entryDetails').value = '';
  document.getElementById('entryScreenshot').value = '';
  document.getElementById('entryStatus').value = 'done';
  document.getElementById('modalTitle').textContent = segment === 'drafts' ? 'Add Content Draft' : segment === 'analysis' ? 'Add Analysis' : 'Add Progress Entry';
  document.getElementById('entryStatus').value = segment === 'drafts' ? 'draft' : 'done';
  document.getElementById('statusRow').style.display = segment === 'drafts' ? 'none' : 'block';
  document.getElementById('addModal').classList.remove('hidden');
}
function closeModal() { document.getElementById('addModal').classList.add('hidden'); }

function saveEntry(e) {
  e.preventDefault();
  const engineId = document.getElementById('entryEngine').value;
  const segment = document.getElementById('entrySegment').value;
  const entry = {
    date: document.getElementById('entryDate').value,
    title: document.getElementById('entryTitle').value,
    details: document.getElementById('entryDetails').value,
    screenshot: document.getElementById('entryScreenshot').value,
    status: document.getElementById('entryStatus').value,
    createdAt: new Date().toISOString()
  };
  if(segment === 'drafts') {
    if(!DATA.drafts[engineId]) DATA.drafts[engineId]=[];
    entry.comment = '';
    entry.status = entry.status || 'draft';
    DATA.drafts[engineId].unshift(entry);
  } else if(segment === 'progress') {
    if(!DATA.progress[engineId]) DATA.progress[engineId]=[]; DATA.progress[engineId].unshift(entry);
  } else {
    if(!DATA.analysis[engineId]) DATA.analysis[engineId]=[]; DATA.analysis[engineId].unshift(entry);
  }
  save(); closeModal(); render();
}

function deleteEntry(engineId, segment, index) {
  if(!confirm('Delete this entry?')) return;
  if(segment === 'drafts') DATA.drafts[engineId].splice(index, 1);
  else if(segment === 'progress') DATA.progress[engineId].splice(index, 1);
  else DATA.analysis[engineId].splice(index, 1);
  save(); render();
}

function openStrategyEdit(engineId) {
  const strat = DATA.strategies[engineId] || {};
  document.getElementById('stratEngine').value = engineId;
  document.getElementById('stratFrequency').value = strat.frequency || '';
  document.getElementById('stratKPIs').value = strat.kpis || '';
  document.getElementById('stratPillars').value = strat.pillars || '';
  document.getElementById('stratAudience').value = strat.audience || '';
  document.getElementById('stratNotes').value = strat.notes || '';
  const plat = ALL_ENGINES.find(e => e.id === engineId);
  document.getElementById('strategyModalTitle').textContent = `Strategy Â· ${plat?.name || engineId}`;
  document.getElementById('strategyModal').classList.remove('hidden');
}
function closeStrategyModal() { document.getElementById('strategyModal').classList.add('hidden'); }

function saveStrategy(e) {
  e.preventDefault();
  const engineId = document.getElementById('stratEngine').value;
  DATA.strategies[engineId] = {
    frequency: document.getElementById('stratFrequency').value,
    kpis: document.getElementById('stratKPIs').value,
    pillars: document.getElementById('stratPillars').value,
    audience: document.getElementById('stratAudience').value,
    notes: document.getElementById('stratNotes').value
  };
  save(); closeStrategyModal(); render();
}

function exportData() {
  const blob = new Blob([JSON.stringify(DATA, null, 2)], { type:'application/json' });
  const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
  a.download = `luminora-cmo-${new Date().toISOString().split('T')[0]}.json`; a.click();
}

// â”€â”€â”€ Init â”€â”€â”€
render();
if(DATA.lastUpdated) document.getElementById('lastUpdated').textContent = 'Last saved ' + new Date(DATA.lastUpdated).toLocaleString();
</script>
</body>
</html>
